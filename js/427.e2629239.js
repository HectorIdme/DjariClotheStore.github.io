"use strict";(self["webpackChunkdjari_clothe"]=self["webpackChunkdjari_clothe"]||[]).push([[427],{3427:function(s,i,e){e.r(i),e.d(i,{default:function(){return K}});var t=e(6252),o=e(3577),a=e(6816);const n=s=>((0,t.dD)("data-v-1cbddb26"),s=s(),(0,t.Cn)(),s),c={class:"favorites-main"},l=n((()=>(0,t._)("h2",{class:"title-favorites"},"Mis Favoritos",-1))),r={class:"favorites-items"},d={id:"show-filter"},h=n((()=>(0,t._)("img",{class:"ficon no-items",src:a,alt:"shopcar icon"},null,-1))),g=n((()=>(0,t._)("p",{class:"description-no-items"},"No se encontraron items",-1))),v=[h,g],_={class:"items"},u=["virtualIndex"],p={class:"item-div"},m=["href"],f={class:"figure-item"},F=["src"],S={class:"info"},k={class:"info-name"},w={class:"info-price"},C={class:"item-opciones"},I=["href"],b=n((()=>(0,t._)("div",null,"Probar",-1))),x=[b],D=["onClick"],P=["src"],y={class:"paginationBar","aria-label":"..."},L=["onClick"];function z(s,i,e,a,n,h){return(0,t.wg)(),(0,t.iD)("div",c,[l,(0,t._)("div",r,[(0,t._)("div",d,[(0,t._)("div",{class:(0,o.C_)(0===n.polos_items.length||0==n.activeSession?"no-items-found-active":"no-items-found-no-active")},v,2),(0,t._)("div",{class:(0,o.C_)(n.polos_items.length>0?"show-catalog":"no-items-found-active")},[(0,t._)("div",_,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(n.polos_items,(s=>((0,t.wg)(),(0,t.iD)("div",{class:"card",key:s.id,virtualIndex:s.id},[(0,t._)("div",p,[(0,t._)("a",{class:"item-content",href:"/items/"+s.id},[(0,t._)("div",null,[(0,t._)("figure",f,[(0,t._)("img",{class:"image-item",src:s.get_image,alt:""},null,8,F)]),(0,t._)("div",S,[(0,t._)("p",k,(0,o.zw)(s.name_modelo),1),(0,t._)("p",w,"S/. "+(0,o.zw)(s.price),1)])])],8,m),(0,t._)("div",C,[(0,t._)("a",{class:"bton-special anchor",href:"/try-on/"+s.id},x,8,I),(0,t._)("a",{class:(0,o.C_)(["anchor",n.user_id?"favo-icon":"favo-no-icon"]),onClick:i=>h.addFavorite(s.id),href:"#"},[(0,t._)("img",{src:n.isFavorite.indexOf(s.id)>-1?h.changeIcon(!0):h.changeIcon(!1),class:"ficon"},null,8,P)],10,D)])])],8,u)))),128))]),(0,t._)("nav",y,[(0,t._)("ul",{class:(0,o.C_)(["pagination pagination-md",n.activeSession?"no-user-active-found-active":"no-items-found-no-active"])},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(n.pages,(s=>((0,t.wg)(),(0,t.iD)("li",{class:(0,o.C_)(["page-item",{active:s==n.current_page}]),key:s},[(0,t._)("a",{class:"page-link",onClick:i=>h.nextPage(s),href:"#"},(0,o.zw)(s),9,L)],2)))),128))],2)])],2)])])])}var M=e(9669),O=e.n(M),j={name:"MyFavorites",data(){return{isFavorite:[],polos_items:[],current_page:1,pages:1,isLoading:!1,itemFound:!1,user_id:"",activeSession:!1,msg_no_description:""}},mounted(){this.isLoading=!0,this.checkUserSession(),this.checkFavoritesStorage(),this.nextPage()},methods:{nextPage(s){this.activeSession&&(this.isLoading=!0,s=s||this.current_page,O().get("/api/user/poloFavorite/"+this.user_id+"?page="+s).then((i=>{this.msg=i.data,console.log(this.msg),this.polos=i.data.results,this.pages=Math.ceil(i.data.count/6),this.current_page=s,this.polos_items=this.polos})).catch((s=>{console.log(s)})),console.log(this.polos_items.length>0),this.isLoading=!1)},checkUserSession(){const s=localStorage.getItem("user_session");null!=s?(this.user_id=s,this.activeSession=!0):this.activeSession=!1,console.log(s)},addFavorite(s){this.isFavorite.indexOf(s)>-1?this.isFavorite.splice(this.isFavorite.indexOf(s),1):this.isFavorite.push(s),0==this.isFavorite.length?localStorage.removeItem("list_favorites"):localStorage.setItem("list_favorites",this.isFavorite);const i={id_polo:null,id_user:null};i["id_polo"]=s,i["id_user"]=localStorage.getItem("user_session"),O().post("/api/registerPoloFavorite/",i).then((s=>{this.msg=s.data,console.log(this.msg)})).catch((s=>{console.log(s)})),location.href="/favorites"},changeIcon(s){return e(!1===s?3972:8397)},checkFavoritesStorage(){const s=localStorage.getItem("list_favorites"),i=[];if(null!=s){const e=s.split(",");e.forEach((s=>i.push(parseInt(s)))),i.forEach((s=>this.isFavorite.push(s)))}}}},E=e(3744);const H=(0,E.Z)(j,[["render",z],["__scopeId","data-v-1cbddb26"]]);var K=H},6816:function(s,i,e){s.exports=e.p+"img/shopcar.f9938763.svg"}}]);
//# sourceMappingURL=427.e2629239.js.map