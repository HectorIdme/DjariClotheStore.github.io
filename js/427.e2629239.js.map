{"version":3,"file":"js/427.e2629239.js","mappings":"qQACSA,MAAM,kB,UACPC,EAAAA,EAAAA,GAA8C,MAA1CD,MAAM,mBAAkB,iBAAa,K,GACpCA,MAAM,mB,GAEFE,GAAG,e,UAGAD,EAAAA,EAAAA,GAAiF,OAA5ED,MAAM,iBAAiBG,IAAAC,EAAkCC,IAAI,gBAAlE,W,UACAJ,EAAAA,EAAAA,GAA2D,KAAxDD,MAAM,wBAAuB,2BAAuB,K,GADvDM,EACAC,G,GAIKP,MAAM,S,sBAGEA,MAAM,Y,cAGSA,MAAM,e,aAGTA,MAAM,Q,GACJA,MAAM,a,GACNA,MAAM,c,GAIhBA,MAAM,iB,qBACsDC,EAAAA,EAAAA,GAAiB,WAAZ,UAAM,K,GAAXO,G,2BAQxER,MAAM,gBAAgB,aAAW,O,wDApCtDS,EAAAA,EAAAA,IAiDM,MAjDN,EAiDM,CAhDFC,GACAT,EAAAA,EAAAA,GA8CM,MA9CN,EA8CM,EA5CFA,EAAAA,EAAAA,GAyCM,MAzCN,EAyCM,EAvCFA,EAAAA,EAAAA,GAGM,OAHAD,OAAK,QAAsB,IAAlBW,EAAAA,YAAYC,QAA6B,GAAbD,EAAAA,cAAa,qDAAxD,MAKAV,EAAAA,EAAAA,GAgCM,OAhCAD,OAAK,QAAGW,EAAAA,YAAYC,OAAM,2CAAhC,EACIX,EAAAA,EAAAA,GAqBM,MArBN,EAqBM,gBApBFQ,EAAAA,EAAAA,IAmBMI,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAnB8BH,EAAAA,aAAXI,K,WAAzBN,EAAAA,EAAAA,IAmBM,OAnBDT,MAAM,OAA6CgB,IAAKD,EAAQb,GAAWe,aAAcF,EAAQb,IAAtG,EAEID,EAAAA,EAAAA,GAgBM,MAhBN,EAgBM,EAfFA,EAAAA,EAAAA,GAUI,KAVDD,MAAM,eAAgBkB,KAAI,UAAYH,EAAQb,IAAjD,EACID,EAAAA,EAAAA,GAQM,aAPFA,EAAAA,EAAAA,GAES,SAFT,EAES,EADLA,EAAAA,EAAAA,GAA8D,OAAzDD,MAAM,aAAoBG,IAAKY,EAAQI,UAAWd,IAAI,IAA3D,aAEJJ,EAAAA,EAAAA,GAGM,MAHN,EAGM,EAFFA,EAAAA,EAAAA,GAAgD,IAAhD,GAAgDmB,EAAAA,EAAAA,IAAzBL,EAAQM,aAAW,IAC1CpB,EAAAA,EAAAA,GAA+C,IAA/C,EAAsB,QAAImB,EAAAA,EAAAA,IAAEL,EAAQO,OAAK,QAPrD,MAWArB,EAAAA,EAAAA,GAGM,MAHN,EAGM,EAFFA,EAAAA,EAAAA,GAAkF,KAA/ED,MAAM,sBAAuBkB,KAAI,WAAaH,EAAQb,IAAzD,QACAD,EAAAA,EAAAA,GAAsN,KAAnND,OAAK,SAAC,SAAiBW,EAAAA,QAAO,6BAAkCY,QAAK,GAAEC,EAAAA,YAAYT,EAAQb,IAAKgB,KAAK,KAAxG,EAA4GjB,EAAAA,EAAAA,GAAsG,OAAhGE,IAAKQ,EAAAA,WAAWc,QAAQV,EAAQb,KAAE,EAASsB,EAAAA,YAAU,GAASA,EAAAA,YAAU,GAASxB,MAAM,SAA7F,WAA5G,WAhBZ,iBAuBJC,EAAAA,EAAAA,GAIM,MAJN,EAIM,EAHFA,EAAAA,EAAAA,GAEK,MAFDD,OAAK,SAAC,2BAAqCW,EAAAA,cAAa,4DAA5D,gBACIF,EAAAA,EAAAA,IAAuKI,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAAlIH,EAAAA,OAARe,K,WAA7BjB,EAAAA,EAAAA,IAAuK,MAAnKT,OAAK,SAAC,YAAW,CAAA2B,OAAoDD,GAAQf,EAAAA,gBAApCK,IAAKU,GAAlD,EAAgGzB,EAAAA,EAAAA,GAAkE,KAA/DD,MAAM,YAAauB,QAAK,GAAEC,EAAAA,SAASE,GAAOR,KAAK,MAAlD,QAAwDQ,GAAI,EAAAE,IAA5J,aADJ,MA1BR,S,uBA4ChB,GACIC,KAAM,cACNC,OACI,MAAO,CACHC,WAAY,GACZC,YAAa,GACbC,aAAc,EACdC,MAAO,EACPC,WAAW,EACXC,WAAW,EACXC,QAAS,GACTC,eAAe,EACfC,mBAAoB,KAG5BC,UACIC,KAAKN,WAAY,EACjBM,KAAKC,mBACLD,KAAKE,wBACLF,KAAKG,YAETC,QAAS,CACLD,SAASlB,GACDe,KAAKH,gBAELG,KAAKN,WAAY,EACjBT,EAAOA,GAAQe,KAAKR,aAEpBa,IAAAA,IACS,0BAA0BL,KAAKJ,QAAU,SAAWX,GACxDqB,MAAKC,IACFP,KAAKQ,IAAMD,EAASlB,KACpBoB,QAAQC,IAAIV,KAAKQ,KACjBR,KAAKW,MAAQJ,EAASlB,KAAKuB,QAC3BZ,KAAKP,MAAQoB,KAAKC,KAAKP,EAASlB,KAAK0B,MAAM,GAC3Cf,KAAKR,aAAeP,EACpBe,KAAKT,YAAcS,KAAKW,SAG3BK,OAAMC,IACHR,QAAQC,IAAIO,MAGpBR,QAAQC,IAAIV,KAAKT,YAAYpB,OAAS,GAEtC6B,KAAKN,WAAY,IAGzBO,mBACI,MAAMiB,EAAoBC,aAAaC,QAAQ,gBACvB,MAArBF,GACClB,KAAKJ,QAAUsB,EACflB,KAAKH,eAAgB,GAErBG,KAAKH,eAAgB,EAEzBY,QAAQC,IAAIQ,IAEhBG,YAAY5D,GAKLuC,KAAKV,WAAWN,QAAQvB,IAAO,EAAGuC,KAAKV,WAAWgC,OAAOtB,KAAKV,WAAWN,QAAQvB,GAAI,GACnFuC,KAAKV,WAAWiC,KAAK9D,GAIG,GAA1BuC,KAAKV,WAAWnB,OAAagD,aAAaK,WAAW,kBACnDL,aAAaM,QAAQ,iBAAiBzB,KAAKV,YAEhD,MAAMoC,EAAM,CACR,QAAW,KACX,QAAW,MAGfA,EAAI,WAAajE,EACjBiE,EAAI,WAAaP,aAAaC,QAAQ,gBAEtCf,IAAAA,KACU,6BAA6BqB,GAClCpB,MAAKC,IACFP,KAAKQ,IAAMD,EAASlB,KACpBoB,QAAQC,IAAIV,KAAKQ,QAEpBQ,OAAMC,IACHR,QAAQC,IAAIO,MAIpBU,SAASlD,KAAO,cAIpBmD,WAAWC,GACP,OACWC,GADE,IAAVD,EACgB,KAEA,OAGvB3B,wBACI,MAAM6B,EAAWZ,aAAaC,QAAQ,kBAChCY,EAAU,GAEhB,GAAe,MAAZD,EAAiB,CAChB,MAAME,EAAaF,EAASG,MAAM,KAClCD,EAAWE,SAASC,GAAUJ,EAAQT,KAAKc,SAASD,MACpDJ,EAAQG,SAASG,GAAQtC,KAAKV,WAAWiC,KAAKe,S,UC7J9D,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,S","sources":["webpack://djari-clothe/./src/views/MyFavorites.vue","webpack://djari-clothe/./src/views/MyFavorites.vue?58da"],"sourcesContent":["<template>\r\n    <div class=\"favorites-main\">\r\n        <h2 class=\"title-favorites\">Mis Favoritos</h2>\r\n        <div class=\"favorites-items\">\r\n\r\n            <div id=\"show-filter\">\r\n                \r\n                <div :class=\" (polos_items.length === 0 || activeSession == false) ? 'no-items-found-active' : 'no-items-found-no-active' \" >\r\n                    <img class=\"ficon no-items\" src=\"../assets/icons/shopcar.svg\" alt=\"shopcar icon\">\r\n                    <p class=\"description-no-items\">No se encontraron items</p>\r\n                </div>\r\n\r\n                <div :class=\" polos_items.length > 0 ? 'show-catalog' : 'no-items-found-active' \" >\r\n                    <div class=\"items\" >\r\n                        <div class=\"card\" v-for=\"product in polos_items\" v-bind:key=\"product.id\" v-bind:virtualIndex=\"product.id\">\r\n\r\n                            <div class=\"item-div\">\r\n                                <a class=\"item-content\" :href=\"'/items/'+product.id\">\r\n                                    <div>\r\n                                        <figure class=\"figure-item\">\r\n                                            <img class=\"image-item\" v-bind:src=\"product.get_image\" alt=\"\">\r\n                                        </figure>\r\n                                        <div class=\"info\">\r\n                                            <p class=\"info-name\">{{product.name_modelo}}</p>\r\n                                            <p class=\"info-price\">S/. {{product.price}}</p>\r\n                                        </div>\r\n                                    </div>\r\n                                </a>\r\n                                <div class=\"item-opciones\">\r\n                                    <a class=\"bton-special anchor\" :href=\"'/try-on/'+product.id\"><div>Probar</div></a>\r\n                                    <a class=\"anchor\" :class=\"user_id ? 'favo-icon' : 'favo-no-icon'\" @click=\"addFavorite(product.id)\" href=\"#\"><img :src=\"isFavorite.indexOf(product.id) > -1 ? changeIcon(true) : changeIcon(false)\" class=\"ficon\" ></a>\r\n                                </div>\r\n                            </div> \r\n                        </div> \r\n                    </div>\r\n\r\n\r\n                    <nav class=\"paginationBar\" aria-label=\"...\"> \r\n                        <ul class=\"pagination pagination-md\" :class=\" (activeSession) ? 'no-user-active-found-active' : 'no-items-found-no-active' \">\r\n                            <li class=\"page-item\" v-for=\"page in pages\" :key=\"page\" :class=\"{active: page == current_page}\"><a class=\"page-link\" @click=\"nextPage(page)\" href=\"#\">{{page}}</a></li>\r\n                        </ul>\r\n                    </nav>\r\n\r\n\r\n                </div>\r\n                \r\n            </div>\r\n\r\n\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n    name: \"MyFavorites\",\r\n    data(){\r\n        return {\r\n            isFavorite: [],\r\n            polos_items: [],\r\n            current_page: 1,\r\n            pages: 1,\r\n            isLoading: false,\r\n            itemFound: false,\r\n            user_id: \"\",\r\n            activeSession: false,\r\n            msg_no_description: \"\",\r\n        }\r\n    },\r\n    mounted(){\r\n        this.isLoading = true;\r\n        this.checkUserSession()\r\n        this.checkFavoritesStorage()\r\n        this.nextPage();\r\n    },\r\n    methods: {\r\n        nextPage(page){\r\n            if (this.activeSession){\r\n\r\n                this.isLoading = true; \r\n                page = page || this.current_page;\r\n\r\n                axios\r\n                    .get(\"/api/user/poloFavorite/\"+this.user_id + \"?page=\" + page)\r\n                    .then(response =>{\r\n                        this.msg = response.data\r\n                        console.log(this.msg);\r\n                        this.polos = response.data.results;\r\n                        this.pages = Math.ceil(response.data.count/6);\r\n                        this.current_page = page;\r\n                        this.polos_items = this.polos;\r\n\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error)\r\n                    })\r\n\r\n                console.log(this.polos_items.length > 0);\r\n\r\n                this.isLoading = false;\r\n            }\r\n        },\r\n        checkUserSession(){\r\n            const activeUserSession = localStorage.getItem(\"user_session\");\r\n            if(activeUserSession != null){\r\n                this.user_id = activeUserSession;\r\n                this.activeSession = true;\r\n            }else{\r\n                this.activeSession = false;\r\n            }\r\n            console.log(activeUserSession);\r\n        },\r\n        addFavorite(id){\r\n            \r\n            //console.log(id);\r\n            //console.log(this.isFavorite)\r\n            \r\n            if(this.isFavorite.indexOf(id) > -1) this.isFavorite.splice(this.isFavorite.indexOf(id),1)\r\n            else this.isFavorite.push(id);\r\n\r\n            //linking product to user\r\n\r\n            if(this.isFavorite.length == 0) localStorage.removeItem(\"list_favorites\");\r\n            else localStorage.setItem(\"list_favorites\",this.isFavorite);\r\n\r\n            const fav = {\r\n                \"id_polo\": null,\r\n                \"id_user\": null\r\n            }\r\n\r\n            fav[\"id_polo\"] = id;\r\n            fav[\"id_user\"] = localStorage.getItem(\"user_session\")\r\n\r\n            axios\r\n                .post(\"/api/registerPoloFavorite/\",fav)\r\n                .then(response =>{\r\n                    this.msg = response.data;\r\n                    console.log(this.msg);\r\n                })\r\n                .catch(error => {\r\n                    console.log(error)\r\n                })\r\n\r\n            //update\r\n            location.href = \"/favorites\";\r\n\r\n\r\n        },\r\n        changeIcon(value){\r\n            if(value === false){\r\n                return require('../assets/icons/heart.svg');\r\n            }else{\r\n                return require('../assets/icons/heart-fill.svg');\r\n            }\r\n        },\r\n        checkFavoritesStorage(){\r\n            const checkFav = localStorage.getItem(\"list_favorites\");\r\n            const listFav = [];\r\n\r\n            if(checkFav != null){\r\n                const strFavList = checkFav.split(\",\");\r\n                strFavList.forEach( id_fav => listFav.push(parseInt(id_fav)));\r\n                listFav.forEach( item => this.isFavorite.push(item));\r\n                //console.log(listFav);\r\n            }\r\n            \r\n        },\r\n\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.title-favorites{\r\n    text-align: center;\r\n    padding-top: 40px;\r\n}\r\n\r\n\r\n/*Show Catalog*/\r\n\r\n#show-filter{\r\n    margin-bottom: 30px;\r\n}\r\n\r\n.show-catalog{\r\n    margin-left: 7rem;\r\n    margin-top: 60px;\r\n    margin-bottom: 30px;\r\n}\r\n\r\n\r\n/*Item Card*/ \r\n\r\n.items{\r\n    text-align: center;\r\n    margin-bottom: 15px;\r\n    display: grid;\r\n    grid-template-columns: repeat(3, 1fr);\r\n    grid-template-rows: repeat(2, 1fr);\r\n    grid-column-gap: 0px;\r\n    grid-row-gap: 30px;\r\n}\r\n\r\n.item-div{\r\n    width: 180px;\r\n    height: 100%;\r\n    border-radius: 1rem;\r\n    box-shadow: 15px 18px 16px -3px rgba(0,0,0,0.1);\r\n\r\n}\r\n\r\n.image-item{\r\n    width: 150px;\r\n}\r\n\r\n.figure-item{\r\n    margin-left: 15px;\r\n    width: 150px;\r\n}\r\n\r\n#bton-special{\r\n    margin-top: 0.5rem;\r\n    padding: 0.6rem 0.1rem 0.6rem 0.1rem;\r\n    font-size: 14px;\r\n    width: 80px;\r\n    background-color: #2b375c;\r\n    color:white;\r\n    border-radius: 5%;\r\n}\r\n\r\n#opciones{\r\n    border-style: solid none none none;\r\n    border-color: #2b375c;\r\n    border-width: 2px;\r\n    display:flex;\r\n    justify-content: center;\r\n    gap: 10px;\r\n    align-items: center;\r\n}\r\n\r\n.material-icons{\r\n    margin-top: 1rem;\r\n    /*color: red;*/\r\n}\r\n\r\na{\r\n    text-decoration: none;\r\n}\r\n\r\n/*Item Card*/ \r\n\r\n.favo-icon{\r\n    display: inline;\r\n}\r\n\r\n.favo-no-icon{\r\n    display: none;\r\n}\r\n\r\n/*Item Card*/ \r\n\r\n.items{\r\n    margin-bottom: 15px;\r\n    width: 80%;\r\n    margin: auto;\r\n\r\n}\r\n\r\n.item-div{\r\n    width: 180px;\r\n    height: 290px;\r\n    border-radius: 1rem;\r\n    box-shadow: 15px 18px 16px -3px rgba(0,0,0,0.1);\r\n}\r\n\r\n.card{\r\n    \r\n    width: 220px;\r\n    border-radius: 1rem;\r\n    border: none;\r\n}\r\n\r\n.item-content{\r\n    color: black;\r\n}\r\n\r\n.item-div:hover{\r\n    background: #FFE3DE;\r\n}\r\n\r\n.image-item{\r\n    width: 135px;\r\n    margin-top: 30px;\r\n    margin-bottom: 0;\r\n}\r\n\r\n.figure-item{\r\n    margin-left: 15px;\r\n    margin-bottom: 5px;\r\n    width: 150px;\r\n}\r\n\r\n.info > p{\r\n    padding: 0;\r\n    margin: 0;\r\n}\r\n\r\n.info-price{\r\n    font-size: 15px;\r\n    margin-top: 8px !important;\r\n    margin-bottom: 7px !important;\r\n}\r\n\r\n.bton-special{\r\n    margin-top: 0.5rem;\r\n    padding: 0.6rem 0.1rem 0.6rem 0.1rem;\r\n    font-size: 14px;\r\n    width: 80px;\r\n    background-color: #A3DDCB;\r\n    color:white;\r\n    border-radius: 5%;\r\n}\r\n\r\n.bton-special:hover{\r\n    color:white;\r\n    background-color: #76d5b7;\r\n}\r\n\r\n.item-opciones{\r\n    border-style: solid none none none;\r\n    border-color: #2b375c;\r\n    border-width: 2px;\r\n    display:flex;\r\n    justify-content: center;\r\n    gap: 10px;\r\n    align-items: center;\r\n}\r\n\r\n.ficon{\r\n    width: 20px;\r\n    margin: auto;\r\n    margin-top: 11px;\r\n    filter: brightness(0) saturate(100%) invert(18%) sepia(86%) saturate(5836%) hue-rotate(335deg) brightness(93%) contrast(95%);\r\n}\r\n\r\n.anchor{\r\n    text-decoration: none;\r\n}\r\n\r\n\r\n/*Item Card*/ \r\n\r\n.paginationBar{\r\n    margin-top: 50px;\r\n    margin-left: 37%;\r\n}\r\n\r\n.no-items{\r\n    width: 200px;\r\n    margin-left: 42%;\r\n    margin-top: 60px;\r\n}\r\n\r\n.description-no-items{\r\n    text-align: center;\r\n    margin-top: 20px;\r\n}\r\n\r\n.no-items-found-active{\r\n    display: block;\r\n    margin-top: 100px;\r\n}\r\n\r\n.no-user-active-found-active{\r\n    color: white;\r\n}\r\n\r\n.no-items-found-no-active{\r\n    display: none;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n</style>","import { render } from \"./MyFavorites.vue?vue&type=template&id=1cbddb26&scoped=true\"\nimport script from \"./MyFavorites.vue?vue&type=script&lang=js\"\nexport * from \"./MyFavorites.vue?vue&type=script&lang=js\"\n\nimport \"./MyFavorites.vue?vue&type=style&index=0&id=1cbddb26&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\Hector\\\\Documents\\\\develop\\\\Web\\\\ProyectoEmpresas\\\\djari-clothe\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1cbddb26\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","id","src","_imports_0","alt","_hoisted_5","_hoisted_6","_hoisted_19","_createElementBlock","_hoisted_2","$data","length","_Fragment","_renderList","product","key","virtualIndex","href","get_image","_toDisplayString","name_modelo","price","onClick","$options","indexOf","page","active","_hoisted_24","name","data","isFavorite","polos_items","current_page","pages","isLoading","itemFound","user_id","activeSession","msg_no_description","mounted","this","checkUserSession","checkFavoritesStorage","nextPage","methods","axios","then","response","msg","console","log","polos","results","Math","ceil","count","catch","error","activeUserSession","localStorage","getItem","addFavorite","splice","push","removeItem","setItem","fav","location","changeIcon","value","require","checkFav","listFav","strFavList","split","forEach","id_fav","parseInt","item","__exports__","render"],"sourceRoot":""}